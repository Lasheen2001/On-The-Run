<!DOCTYPE html>
<html>
  <head>
    <!-- Basic -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- Mobile Metas -->
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <!-- Site Metas -->
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <meta name="author" content="" />

    <title>Bank X</title>

    <!-- slider stylesheet -->
    <!-- slider stylesheet -->
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css"
    />

    <!-- bootstrap core css -->
    <link rel="stylesheet" type="text/css" href="css/bootstrap.css" />

    <!-- fonts style -->
    <link
      href="https://fonts.googleapis.com/css?family=Roboto:400,700&display=swap"
      rel="stylesheet"
    />
    <!-- Custom styles for this template -->
    <link href="css/style.css" rel="stylesheet" />
    <!-- responsive style -->
    <link href="css/responsive.css" rel="stylesheet" />
  </head>

  <body>
    <div class="hero_area">
      <!-- header section strats -->
      <header class="header_section">
        <div class="container-fluid">
            <nav class="navbar navbar-expand-lg custom_nav-container ">
                <a class="navbar-brand" href="index.html">
                    <span>
                        Bank X
                    </span>
                </a>
                <button class="navbar-toggler" type="button" data-toggle="collapse"
                    data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                    aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <div class="d-flex ml-auto flex-column flex-lg-row align-items-center">
                        <ul class="navbar-nav  ">
                            <li class="nav-item">
                                <a class="nav-link" href="index.html">Home <span class="sr-only">(current)</span></a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link active" href="notifications.html"> Notifications </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="issues.html"> Report an issue </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="login.html"> Logout</a>
                            </li>
                        </ul>
                    </div>
            </nav>
        </div>
    </header>
      <!-- end header section -->
    </div>

    <!-- how section -->
    <section class="how_section layout_padding">
      <div class="heading_container">
        <h2>Bank Transfer</h2>
      </div>
    </section>

    <div id="transferForm">
      <div class="heading_container">
        <label for="balance">Balance:</label>
        <span id="balance"></span>
      </div>

      <!-- <div class="heading_container" style="border-radius: 10px; border: 2px solid black; margin-bottom: 10px;">
  <label for="accountType">Account Type:</label>
  <select id="accountType" style="margin-top: 5px;"></select>
</div>

<div class="heading_container" style="border-radius: 10px; border: 2px solid black; margin-bottom: 10px;">
  <label for="recipient">Recipient:</label>
  <input type="text" id="recipient" placeholder="Enter recipient" style="margin-top: 5px;" />
</div>

<div class="heading_container" style="border-radius: 10px; border: 2px solid black; margin-bottom: 10px;">
  <label for="amount">Transfer Amount:</label>
  <input type="number" id="amount" step="0.01" placeholder="Enter transfer amount" style="margin-top: 5px;" />
</div>
 -->

      <div class="heading_container">
        <label for="accountType">Account Type:</label>
        <select
          id="accountType"
          style="
            border-radius: 10px;
            border: 2px solid black;
            margin-bottom: 10px;
          "
        >
          <option value="internal">Internal</option>
          <option value="domestic">Domestic</option>
          <option value="international">International</option>
        </select>
      </div>

      <div class="heading_container">
        <label for="recipient">Recipient:</label>
        <input
          type="text"
          id="recipient"
          placeholder="Enter recipient"
          style="
            border-radius: 10px;
            border: 2px solid black;
            margin-bottom: 10px;
          "
        />
      </div>

      <div class="heading_container">
        <label for="amount">Transfer Amount:</label>
        <input
          type="number"
          id="amount"
          step="0.01"
          placeholder="Enter transfer amount"
          style="
            border-radius: 10px;
            border: 2px solid black;
            margin-bottom: 10px;
          "
        />
      </div>
      <div class="how_section layout_padding">
        <div class="btn-box">
          <a onclick="transferMoney()" style="color: white" ;>Make Payment</a>
        </div>
      </div>
    </div>

    <div id="transferStatus" class="heading_container">
      <h3>Transfer Status</h3>
    </div>

    <p id="transferMessage" style="text-align: center"></p>
    <!-- end how section -->

    <div
      class="d-flex justify-content-start align-items-center mt-3"
      id="btn"
      style="padding-bottom: 20px"
    >
      <button
        class="btn btn-primary btn-lg btn-custom mr-2"
        onclick="window.location.href='bank_accounts_home.html'"
        style="
          background-color: black;
          color: white;
          border: 0px;
          margin-top: 0 px;
          margin-left: 30px;
        "
      >
        Back
      </button>
    </div>

    <!-- info section -->
    <!-- end info_section -->

    <!-- footer section -->
    <section class="container-fluid footer_section">
      <p>
        &copy; 2023 All Rights Reserved By On The Run
        <!-- <a href="https://html.design/">Free Html Templates</a> -->
      </p>
    </section>
    <!-- footer section -->

    <script type="text/javascript" src="js/jquery-3.4.1.min.js"></script>
    <script type="text/javascript" src="js/bootstrap.js"></script>
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"
    ></script>
    <!-- owl carousel script 
    -->
    <script type="text/javascript">
      $(".owl-carousel").owlCarousel({
        loop: true,
        margin: 0,
        navText: [],
        center: true,
        autoplay: true,
        autoplayHoverPause: true,
        responsive: {
          0: {
            items: 1,
          },
          1000: {
            items: 3,
          },
        },
      });
    </script>
    <!-- end owl carousel script -->
    <script>
      const urlParams = new URLSearchParams(window.location.search);
      var balance = 100000;
      // Function to transfer money
      function transferMoney() {
        const accountType = document.getElementById("accountType").value;
        const recipient = document.getElementById("recipient").value;
        const amount = parseFloat(document.getElementById("amount").value);
        const balanceElement = document.getElementById("balance");

        let transferMessage = "";

        if (amount <= 0 || amount > getBalance() || isNaN(amount)) {
          transferMessage = "Invalid transfer amount.";
        } else if (recipient.trim() === "") {
          transferMessage = "Recipient field cannot be empty.";
        } else {
          transferMessage = `Transfer successful. $${amount.toFixed(
            2
          )} has been transferred to ${recipient}.`;

          if (accountType === "internal") {
            transferMessage += " (Internal)";
          } else if (accountType === "domestic") {
            transferMessage += " (Domestic)";
          } else if (accountType === "international") {
            transferMessage += " (International)";
          }
          document.getElementById("transferMessage").textContent =
            transferMessage;
          document.getElementById("transferMessage").style.color = "green";
          clearForm();

          changeBalance(amount);
          setBalance();

          return;
        }

        document.getElementById("transferMessage").textContent =
          transferMessage;
        document.getElementById("transferMessage").style.color = "red";
      }

      // Function to clear the form after making a transfer
      function clearForm() {
        document.getElementById("accountType").selectedIndex = 0;
        document.getElementById("recipient").value = "";
        document.getElementById("amount").value = "";
      }

      // Function to retrieve the balance from the URL query parameter
      function getBalance() {
        return balance;
      }

      // Function to change the balance from the URL query parameter
      function changeBalance(value) {
        balance -= value;
      }

      // Function to set the balance on the page
      function setBalance() {
        const totalAmountElement = document.getElementById("balance");
        const totalAmount = getBalance();
        totalAmountElement.textContent = "$" + totalAmount.toFixed(2);
      }

      setBalance();
    </script>
  </body>
</html>
